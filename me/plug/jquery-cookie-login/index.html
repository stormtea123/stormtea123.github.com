<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>jQuery-Cookie-存储用户名</title>
<style type="text/css">
body, h1, h2, h3, h4, h5, h6, p, blockquote, pre, form, input, textarea, button, fieldset, legend  { margin: 0; padding: 0; }
body { font-family:'Century Gothic',georgia,Arial; background:#FFF; }
html,body { font-size:90%; }
h1,h2,h3,h4 { font-family:'Century Gothic',Microsoft YaHei; }
button,input,select,textarea { font:14px Arial; vertical-align:middle; }
ul, ol { list-style: none; }
/*正文样式*/
.wrap { width: 750px; margin:0 auto; }
.caption { padding:30px 0 20px; text-align:center; }
.caption h1 { font-size:50px; }
.caption p { line-height:22px; color:red; }
.login { width:290px; margin:0 auto; padding: 15px 20px 15px 30px; background: #fff; border: 1px solid #ccc; border-radius: 4px;  box-shadow: 1px 1px 4px #d3d3d3; }
.login td { height:23px; padding:3px 0; line-height:23px; }
.login .txt { width:160px; height:21px; padding:3px 5px; border:1px solid #74C9E6; }
#remember { height:13px; margin:4px 0; }
</style>
</head>
<body>
<div class="wrap">
    <div class="caption">
        <h1>Cookie-存储用户名</h1>
        <p>刷新浏览器，自动将用户名存储到Cookie中，该插件为官方插件(非原创)</p>
    </div>
    <div id="main">
        <div class="login">
            <form action="">
                <table>
                    <tr>
                        <td><label for="username">用户名：</label></td>
                        <td><input type="text" id="username" class="txt"/></td>
                    </tr>
                    <tr>
                        <td><label for="password">密码：</label></td>
                        <td><input type="password" id="password" class="txt"/></td>
                    </tr>
                    <tr>
                        <td></td>
                        <td><input type="checkbox" name="check" id="remember"/> 记住用户名</td>
                    </tr>
                </table>
            </form>
        </div>
    </div>
</div>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript">
/**
 * URL : http://www.w3cmm.com
 * DATE : 2012年12月20日
 */

jQuery.cookie = function(name, value, options) {
    if(typeof value != 'undefined') {
        options = options || {};
        if(value === null) {
            value = '';
            options = $.extend({}, options);
            options.expires = -1;
        }
        //过期时间
        var expires = '';
        if(options.expires && (typeof options.expires == 'number' || options.expires.toUTCString)) {
            var date;
            if(typeof options.expires == 'number') {
                date = new Date();
                date.setTime(date.getTime() + (options.expires * 24 * 60 * 60 * 1000));
            } else {
                date = options.expires;
            }
            expires = '; expires=' + date.toUTCString();
        }
        //路径
        var path = options.path ? '; path=' + (options.path) : '';
        //域名
        var domain = options.domain ? '; domain=' + (options.domain) : '';
        //安全标志
        var secure = options.secure ? '; secure' : '';
        document.cookie = [name, '=', encodeURIComponent(value), expires, path, domain, secure].join('');
    } else {
        var cookieValue = null;
        if(document.cookie && document.cookie != '') {
            var cookies = document.cookie.split(';');
            for(var i = 0; i < cookies.length; i++) {
                var cookie = jQuery.trim(cookies[i]);
                // Does this cookie string begin with the name we want?
                if(cookie.substring(0, name.length + 1) == (name + '=')) {
                    cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                    break;
                }
            }
        }
        return cookieValue;
    }
};

//实例应用演示
$(function() {
    var cookieName = "username";
    var cookiePassword = "passwork"
    if($.cookie(cookieName)) {
        $("#username").val($.cookie(cookieName));
    }
    if($.cookie(cookiePassword)) {
        $("#password").val($.cookie(cookiePassword));
    }
    $("#remember").click(function() {
        if(this.checked) {
            $.cookie(cookieName, $("#username").val(), {
                path: '/',
                expires: 10
            });
            $.cookie(cookiePassword, $("#password").val(), {
                path: '/',
                expires: 10
            });
        } else {
            $.cookie(cookieName, null, {
                path: '/'
            });
            $.cookie(cookiePassword, null, {
                path: '/'
            });
        }
    });
});
</script>
</body>
</html>