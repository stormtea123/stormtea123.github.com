<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>jQuery-Cookie-换肤</title>
<style type="text/css">
body, h1, h2, h3, h4, h5, h6, p, ul, blockquote, pre, form, input, textarea, button, fieldset, legend  { margin: 0; padding: 0; }
body { font-family:'Century Gothic',georgia,Arial; background:#FFF; }
html,body { font-size:90%; }
h1,h2,h3,h4 { font-family:'Century Gothic',Microsoft YaHei; }
button,input,select,textarea { font:14px Arial; vertical-align:middle; }
ul, ol { list-style: none; }
/*正文样式*/
.wrap { width: 650px; margin:20px auto 0;  border-radius:20px; background:rgba(255,255,255,0.8); opacity:0.3; }
.wrap:hover { opacity:1.0; }
.caption { padding:20px 0 10px; text-align:center; }
.caption h1 { font-size:50px; }
.caption p { line-height:22px; color:red; }
.skin { width:338px; height:69px; margin:0 auto; padding-bottom:35px; }
.skin li { width:100px; height:63px; margin-right:10px; float:left; border:solid 3px #FFF; }
.skin li:last-child { margin-right:0; }
.skin li.current { border:solid 3px red; }
</style>
<link rel="stylesheet" href="skin-1.css" id="skin-style">
</head>
<body>
<div class="wrap">
    <div class="caption">
        <h1>Cookie-换肤</h1>
        <p>清除cookie恢复默认皮肤，图片较大，请耐心等候……</p>
    </div>
    <div id="main">
        <ul id="skin" class="skin">
            <li id="skin-1" class="current"><img src="images/thumb-1.jpg" width="100" height="63"></li>
            <li id="skin-2"><img src="images/thumb-2.png" width="100" height="63"></li>
            <li id="skin-3"><img src="images/thumb-3.png" width="100" height="63"></li>
        </ul>
    </div>
</div>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript">
/**
 * URL : http://www.w3cmm.com
 * DATE : 2012年12月23日
 */

jQuery.cookie = function(name, value, options) {
    if(typeof value != 'undefined') {
        options = options || {};
        if(value === null) {
            value = '';
            options = $.extend({}, options);
            options.expires = -1;
        }
        //过期时间
        var expires = '';
        if(options.expires && (typeof options.expires == 'number' || options.expires.toUTCString)) {
            var date;
            if(typeof options.expires == 'number') {
                date = new Date();
                date.setTime(date.getTime() + (options.expires * 24 * 60 * 60 * 1000));
            } else {
                date = options.expires;
            }
            expires = '; expires=' + date.toUTCString();
        }
        //路径
        var path = options.path ? '; path=' + (options.path) : '';
        //域名
        var domain = options.domain ? '; domain=' + (options.domain) : '';
        //安全标志
        var secure = options.secure ? '; secure' : '';
        document.cookie = [name, '=', encodeURIComponent(value), expires, path, domain, secure].join('');
    } else {
        var cookieValue = null;
        if(document.cookie && document.cookie != '') {
            var cookies = document.cookie.split(';');
            for(var i = 0; i < cookies.length; i++) {
                var cookie = jQuery.trim(cookies[i]);
                // Does this cookie string begin with the name we want?
                if(cookie.substring(0, name.length + 1) == (name + '=')) {
                    cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                    break;
                }
            }
        }
        return cookieValue;
    }
};

//实例应用演示
$(function () {
    $skinItem = $("#skin li");
    $skinItem.bind("click", function () {
        switchSkin(this.id);
    })

    var mySkinValue = $.cookie("mySkin");
    if (mySkinValue) {
        switchSkin(mySkinValue);
    }
    function switchSkin(name) {
        $("#" + name).addClass("current").siblings().removeClass("current");
        $("#skin-style").attr("href", name + ".css");
        $.cookie("mySkin", name, { path:"/", expires:10 });
    }
})
</script>
</body>
</html>