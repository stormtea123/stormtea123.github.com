<!DOCTYPE html >
<html>
<head>
<meta charset="utf-8" />
<title>jQuery-新闻滚动插件-可点击</title>
<style type="text/css">
h1, h2, h3, h4, h5, h6, p, blockquote, pre, form, input, textarea, button, fieldset, legend, ul, ol, li, dl, dt, dd, th, td { margin: 0; padding: 0; }
body,button,input,select,textarea{ font:12px/1.6 tahoma,arial,\5b8b\4f53}
h1 { font-size:50px; font-family:微软雅黑; }
p { color:red; }
ol, ul { list-style: none; }
h2{ height:25px; line-height:25px; padding:0 15px; float:left; margin:30px 0 0 20px; background:#a40000; font-size:14px; color:#fff; font-weight:normal; text-align:center; }
.scroll { width:500px; margin-bottom:20px; overflow:hidden; clear:both; border:2px solid #a40000;}
.scroll ul { }
.scroll li{ height:30px;text-indent:15px; font-size:12px; line-height:30px;list-style:none}
#line .scroll { height:30px; }
#mulitline .scroll  {height:90px}
#click .scroll { height:60px; }
</style>

<body>
<h1>新闻滚动插件-可点击</h1>
<p>该插件暂时有些问题，需要修复</p>
<div id="line">
    <h2>单行新闻</h2>
    <div class="scroll">
        <ul>
            <li>(1).<a href="#">中国多艘海监船抵达钓鱼岛海域</a> 2012-09-14 08:27:00</li>
            <li>(2).<a href="#">日方巡视船未进行强行拦堵</a> 2012-09-14 08:27:00</li>
            <li>(3).<a href="#">中国海监船:钓鱼岛是中国领土</a> 2012-09-14 08:27:00</li>
            <li>(4).<a href="#">中国旅行社“向日输送5万游客”计划中止</a> 2012-09-14 08:27:00</li>
            <li>(5).<a href="#">康辉旅游集团董事长李继烈13日晚在接受记者采访时说</a> 2012-09-14 08:27:00</li>
        </ul>
    </div>
</div>
<div id="mulitline">
    <h2>多行新闻</h2>
    <div class="scroll">
        <ul>
            <li>(1).<a href="#">中国多艘海监船抵达钓鱼岛海域</a> 2012-09-14 08:27:00</li>
            <li>(2).<a href="#">日方巡视船未进行强行拦堵</a> 2012-09-14 08:27:00</li>
            <li>(3).<a href="#">中国海监船:钓鱼岛是中国领土</a> 2012-09-14 08:27:00</li>
            <li>(4).<a href="#">日出动大批巡逻船和飞机应对中方海监船</a> 2012-09-14 08:27:00</li>
            <li>(5).<a href="#">中国旅行社“向日输送5万游客”计划中止</a> 2012-09-14 08:27:00</li>
            <li>(6).<a href="#">康辉旅游集团董事长李继烈13日晚在接受记者采访时说</a> 2012-09-14 08:27:00</li>
        </ul>
    </div>
</div>
<div id="click">
    <h2>点击滚动+自动滚动</h2>
   <div class="scroll">
       <ul>
           <li>(1).<a href="#">中国多艘海监船抵达钓鱼岛海域</a> 2012-09-14 08:27:00</li>
           <li>(2).<a href="#">日方巡视船未进行强行拦堵</a> 2012-09-14 08:27:00</li>
           <li>(3).<a href="#">中国海监船:钓鱼岛是中国领土</a> 2012-09-14 08:27:00</li>
           <li>(4).<a href="#">日出动大批巡逻船和飞机应对中方海监船</a> 2012-09-14 08:27:00</li>
           <li>(5).<a href="#">中国旅行社“向日输送5万游客”计划中止</a> 2012-09-14 08:27:00</li>
       </ul>   
   </div>
   <div class="click-bar"><a href="javascript:void(0)" class="prev">向上滚</a>↑&nbsp;&nbsp;&nbsp;<a href="javascript:void(0)" class="next">向下滚</a>↓</div>
</div>
<div style="display:none;"><script src="http://s20.cnzz.com/stat.php?id=3969203&web_id=3969203" language="JavaScript"></script></div>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript">
;(function ($) {
    $.fn.extend({
        //新闻滚动插件
        "scrollNews": function (options) {
            options = $.extend({
                interval: 3000, //自动滚动间隔
                next: null, //向下按钮
                prev: null //向上按钮
            }, options);
            var scrollTimer;
            var obj = $("ul", this);
            var h = obj.find("li:first").height();
            var prevButton = $(options.prev, this);
            var nextButton = $(options.next, this);

            //向上滚
            var scrollUp = function () {
                prevButton.unbind("click", scrollUp);
                obj.stop(true,false).animate({
                    marginTop: -h + "px"
                }, 600, function () {
                    obj.css("margin-top", 0);
                    obj.find("li:first").appendTo(obj);
                    prevButton.bind("click", scrollUp);
                });
            }

            //向下滚
            var scrollDown = function () {
                nextButton.unbind("click", scrollDown);
                obj.find("li:last").prependTo(obj);
                obj.css("margin-top", - h + "px")
                obj.stop(true,false).animate({
                    marginTop: 0
                }, 600, function () {
                    nextButton.bind("click", scrollDown);
                });
            }
            //自动滚
            var autoScroll = function () {
                scrollTimer= setInterval(scrollUp, options.interval);
            }
            //停止滚
            var stopScroll = function () {
                clearInterval(scrollTimer);
            }
            obj.hover(stopScroll, autoScroll).trigger("mouseleave");
            //绑定点击事件
            prevButton.click(scrollUp).hover(stopScroll, autoScroll);
            nextButton.click(scrollDown).hover(stopScroll, autoScroll);
            //返回对象
            return this;
        }
    });
})(jQuery);
</script>
<script type="text/javascript">
$(function () {
    //单行滚动
    $("#line").scrollNews({
        interval: 3000
    });
    //多行滚动
    $("#mulitline").scrollNews({
        interval: 6000
    });
    //点击滚动+自动滚动
    $("#click").scrollNews({
        interval: 9000,
        prev: ".prev",
        next: ".next"
    });
});
</script>
</body>
</html>